///////////////////////////////////////////////////////////////////////////////////////////////

#ifndef CSVDECODER_HPP
#define CSVDECODER_HPP

///////////////////////////////////////////////////////////////////////////////////////////////

#include "base.hpp"

///////////////////////////////////////////////////////////////////////////////////////////////

class CSVDecoder
{
public:
    CSVDecoder(string csvData);

    string fetchString();
    int    fetchInt();
    long long int fetchLong();
    double fetchDouble();
    void fetchNone(); // Skips a field

    bool isLineEmpty();
    bool nextLine(); // Will assert if data still avaiable on current line,
                     // returns false is no next available
    bool skipLine(); // Same as above except line remains empty

private:
    istringstream m_data;
    istringstream m_line;

    bool          m_lineEmpty;
    const char    m_delimeter;
};

///////////////////////////////////////////////////////////////////////////////////////////////

#endif // CSVDECODER_HPP

///////////////////////////////////////////////////////////////////////////////////////////////
